# data/scene.xml
<mujoco model="pathfinder">
  <option gravity="0 0 -9.81" timestep="0.005"/>
  
  <asset>
    <texture name="floor" type="2d" builtin="checker" width="512" height="512" rgb1=".2 .25 .3" rgb2=".25 .3 .35"/>
    <material name="floor_mat" texture="floor" texrepeat="3 3" texuniform="true" reflectance=".1"/>
    
    <texture name="wood" type="2d" builtin="flat" width="512" height="512" rgb1=".4 .25 .15"/>
    <material name="wood_mat" texture="wood" reflectance=".1"/>
    
    <material name="target_mat" rgba="1 0.8 0 1" emission="0.3"/>
    <material name="wall_mat" rgba="0.7 0.7 0.75 1"/>
  </asset>

  <worldbody>
    <light diffuse="0.8 0.8 0.8" pos="0 0 4" dir="0 0 -1" castshadow="true"/>
    <light diffuse="0.5 0.5 0.5" pos="3 3 3" dir="-1 -1 -1"/>
    
    <geom name="floor" type="plane" size="6 6 0.1" material="floor_mat"/>
    
    <body name="wall_north" pos="0 5 0.5">
      <geom name="wall_n" type="box" size="6 0.1 0.5" material="wall_mat"/>
    </body>
    <body name="wall_south" pos="0 -5 0.5">
      <geom name="wall_s" type="box" size="6 0.1 0.5" material="wall_mat"/>
    </body>
    <body name="wall_east" pos="5 0 0.5">
      <geom name="wall_e" type="box" size="0.1 6 0.5" material="wall_mat"/>
    </body>
    <body name="wall_west" pos="-5 0 0.5">
      <geom name="wall_w" type="box" size="0.1 6 0.5" material="wall_mat"/>
    </body>
    
    <body name="robot" pos="0 -3 0.1">
      <joint name="robot_x" type="slide" axis="1 0 0" limited="false" damping="5"/>
      <joint name="robot_y" type="slide" axis="0 1 0" limited="false" damping="5"/>
      <joint name="robot_z" type="hinge" axis="0 0 1" limited="false" damping="2"/>
      
      <geom name="base" type="cylinder" size="0.2 0.08" rgba="0.1 0.1 0.1 1"/>
      <geom name="top" type="cylinder" size="0.18 0.02" pos="0 0 0.1" rgba="0.2 0.6 0.9 1"/>
      <geom name="sensor_ring" type="cylinder" size="0.15 0.01" pos="0 0 0.12" rgba="0 1 0.5 1"/>
      
      <body name="direction_indicator" pos="0.22 0 0.1">
        <geom name="arrow" type="box" size="0.08 0.04 0.04" rgba="0 1 0 1"/>
        <geom name="arrow_tip" type="sphere" size="0.05" pos="0.08 0 0" rgba="0 1 0.5 1"/>
      </body>
      
      <camera name="robot_camera" pos="0.25 0 0.25" euler="0 20 0" fovy="70"/>
    </body>
    
    <body name="target_cup" pos="3 2.5 0.08">
      <geom name="cup_base" type="cylinder" size="0.08 0.02" rgba="1 0.9 0.1 1"/>
      <geom name="cup_body" type="cylinder" size="0.06 0.15" pos="0 0 0.17" material="target_mat"/>
      <geom name="cup_rim" type="cylinder" size="0.065 0.01" pos="0 0 0.33" rgba="1 0.85 0 1"/>
      <light mode="targetbody" pos="0 0 0.4" diffuse="1 0.8 0" specular="0.5 0.4 0"/>
    </body>
    
    <body name="table" pos="2 -1.5 0">
      <geom name="table_top" type="box" size="0.8 0.6 0.03" pos="0 0 0.5" material="wood_mat"/>
      <geom name="leg1" type="cylinder" size="0.04 0.47" pos="0.6 0.4 0.23" rgba="0.3 0.2 0.1 1"/>
      <geom name="leg2" type="cylinder" size="0.04 0.47" pos="0.6 -0.4 0.23" rgba="0.3 0.2 0.1 1"/>
      <geom name="leg3" type="cylinder" size="0.04 0.47" pos="-0.6 0.4 0.23" rgba="0.3 0.2 0.1 1"/>
      <geom name="leg4" type="cylinder" size="0.04 0.47" pos="-0.6 -0.4 0.23" rgba="0.3 0.2 0.1 1"/>
    </body>
    
    <body name="chair" pos="-2 2 0">
      <geom name="seat" type="box" size="0.25 0.25 0.03" pos="0 0 0.45" rgba="0.5 0.25 0.1 1"/>
      <geom name="back" type="box" size="0.25 0.05 0.35" pos="0 -0.22 0.75" rgba="0.5 0.25 0.1 1"/>
      <geom name="chair_leg1" type="cylinder" size="0.03 0.42" pos="0.18 0.18 0.21" rgba="0.4 0.2 0.05 1"/>
      <geom name="chair_leg2" type="cylinder" size="0.03 0.42" pos="0.18 -0.18 0.21" rgba="0.4 0.2 0.05 1"/>
      <geom name="chair_leg3" type="cylinder" size="0.03 0.42" pos="-0.18 0.18 0.21" rgba="0.4 0.2 0.05 1"/>
      <geom name="chair_leg4" type="cylinder" size="0.03 0.42" pos="-0.18 -0.18 0.21" rgba="0.4 0.2 0.05 1"/>
    </body>
    
    <body name="bookshelf" pos="-3.5 -2 0">
      <geom name="shelf_back" type="box" size="0.6 0.02 1" pos="0 -0.28 1" rgba="0.35 0.25 0.15 1"/>
      <geom name="shelf1" type="box" size="0.6 0.3 0.02" pos="0 0 0.3" material="wood_mat"/>
      <geom name="shelf2" type="box" size="0.6 0.3 0.02" pos="0 0 0.9" material="wood_mat"/>
      <geom name="shelf3" type="box" size="0.6 0.3 0.02" pos="0 0 1.5" material="wood_mat"/>
      <geom name="shelf_side1" type="box" size="0.02 0.3 1" pos="0.58 0 1" rgba="0.35 0.25 0.15 1"/>
      <geom name="shelf_side2" type="box" size="0.02 0.3 1" pos="-0.58 0 1" rgba="0.35 0.25 0.15 1"/>
    </body>
    
    <body name="plant" pos="1 3.5 0">
      <geom name="pot" type="cylinder" size="0.15 0.2" pos="0 0 0.1" rgba="0.6 0.3 0.2 1"/>
      <geom name="soil" type="cylinder" size="0.14 0.02" pos="0 0 0.31" rgba="0.3 0.2 0.1 1"/>
      <geom name="plant_stem" type="cylinder" size="0.02 0.3" pos="0 0 0.65" rgba="0.2 0.5 0.2 1"/>
      <geom name="leaf1" type="sphere" size="0.12" pos="0.08 0.08 0.9" rgba="0.1 0.6 0.2 1"/>
      <geom name="leaf2" type="sphere" size="0.1" pos="-0.08 0.06 0.85" rgba="0.15 0.65 0.25 1"/>
    </body>
    
    <body name="box_obstacle" pos="-1.5 -3 0.2">
      <geom name="box" type="box" size="0.3 0.3 0.2" rgba="0.7 0.5 0.3 1"/>
      <geom name="box_tape" type="box" size="0.31 0.05 0.21" rgba="0.9 0.7 0.4 1"/>
    </body>
  </worldbody>
  
  <actuator>
    <motor name="move_x" joint="robot_x" gear="80" ctrllimited="true" ctrlrange="-1 1"/>
    <motor name="move_y" joint="robot_y" gear="80" ctrllimited="true" ctrlrange="-1 1"/>
    <motor name="rotate" joint="robot_z" gear="15" ctrllimited="true" ctrlrange="-1 1"/>
  </actuator>
</mujoco>